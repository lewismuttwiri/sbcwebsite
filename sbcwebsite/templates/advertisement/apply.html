{% extends "sbcapp1/base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
        <div class="p-6">
            <h1 class="text-3xl font-bold mb-4">Apply for: {{ advertisement.title }}</h1>
            
            <form method="post" enctype="multipart/form-data" class="space-y-6">
                {% csrf_token %}
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Personal Information</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Full Names</label>
                            {% render_field form.full_names class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter your full name" %}
                            {% if form.full_names.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.full_names.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Email Address</label>
                            {% render_field form.email class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter your email address" %}
                            {% if form.email.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.email.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Phone Number</label>
                            {% render_field form.phone_number class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter your phone number" %}
                            {% if form.phone_number.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.phone_number.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Current Address</label>
                            {% render_field form.current_address class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter your current address" %}
                            {% if form.current_address.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.current_address.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Date of Birth</label>
                            {% render_field form.date_of_birth class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.date_of_birth.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.date_of_birth.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Gender</label>
                            {% render_field form.gender class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.gender.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.gender.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Previous Employment</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Previous Employer Name</label>
                            {% render_field form.previous_employer_name class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter previous employer name" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Previous Employer Address</label>
                            {% render_field form.previous_employer_address class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter previous employer address" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Previous Employer Phone</label>
                            {% render_field form.previous_employer_phone class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter previous employer phone" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Job Title</label>
                            {% render_field form.job_title class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter your job title" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Employment Start Date</label>
                            {% render_field form.employment_start_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Employment End Date</label>
                            {% render_field form.employment_end_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                        </div>
                        
                        <div class="md:col-span-2">
                            <label class="block text-gray-700 text-xl font-bold mb-2">Employment Duties</label>
                            {% render_field form.employment_duties class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" rows="4" placeholder="Describe your duties and responsibilities" %}
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Education</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Education Level</label>
                            {% render_field form.education_level class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.education_level.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.education_level.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Institution Name</label>
                            {% render_field form.institution_name class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter institution name" %}
                            {% if form.institution_name.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.institution_name.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Course of Study</label>
                            {% render_field form.course_of_study class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter course of study" %}
                            {% if form.course_of_study.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.course_of_study.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Qualification Grade</label>
                            {% render_field form.qualification_grade class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter qualification grade" %}
                            {% if form.qualification_grade.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.qualification_grade.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Education Start Date</label>
                            {% render_field form.education_start_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.education_start_date.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.education_start_date.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Education End Date</label>
                            {% render_field form.education_end_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.education_end_date.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.education_end_date.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Professional Qualifications (Optional)</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Professional Institution Name</label>
                            {% render_field form.professional_institution_name class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter professional institution name" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Course Name</label>
                            {% render_field form.course_name class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter course name" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Professional Start Date</label>
                            {% render_field form.professional_start_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Professional End Date</label>
                            {% render_field form.professional_end_date class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Professional Qualification Grade</label>
                            {% render_field form.professional_qualification_grade class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" placeholder="Enter qualification grade" %}
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Application Materials</h2>
                    
                    <div class="grid grid-cols-1 gap-6">
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Cover Letter</label>
                            {% render_field form.cover_letter class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" rows="6" placeholder="Write your cover letter here..." %}
                            {% if form.cover_letter.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.cover_letter.errors.0 }}</p>
                            {% endif %}
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-xl font-bold mb-2">Resume/CV</label>
                            <p class="text-gray-600 mb-2">Upload your resume/CV (PDF or Word document)</p>
                            {% render_field form.resume class="block w-full px-4 py-3 text-xl border border-gray-300 rounded-md" %}
                            {% if form.resume.errors %}
                                <p class="text-red-500 text-sm mt-1">{{ form.resume.errors.0 }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-8">
                    <h2 class="text-2xl font-semibold mb-4">Declaration</h2>
                    
                    <div class="mb-4">
                        <p class="text-gray-700 mb-4">{{ form.declaration_agreement.label }}</p>
                        <div class="flex items-center">
                            <input type="checkbox" id="declaration_checkbox" class="w-6 h-6 mr-2">
                            <label for="declaration_checkbox" class="text-gray-700">I agree to the above declaration</label>
                            {% render_field form.declaration_agreement %}
                        </div>
                        {% if form.declaration_agreement.errors %}
                            <p class="text-red-500 text-sm mt-1">{{ form.declaration_agreement.errors.0 }}</p>
                        {% endif %}
                    </div>
                </div>
                
                <div class="text-center">
                    <button type="submit" class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-xl">
                        Submit Application
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const declarationCheckbox = document.getElementById('declaration_checkbox');
        const declarationHiddenInput = document.getElementById('id_declaration_agreement');
        
        declarationCheckbox.addEventListener('change', function() {
            declarationHiddenInput.value = this.checked;
        });
    });
</script>
{% endblock %}

